Signup Screen
---------------
Data to be given:
- header (which has the auth token)

Data to get:
- First name
- Last name
- Unit
- Address
- State
- Zip

Things to Do For Carmen
---------------
Figure out how to generate a secret on the side of the application as well for increased security
Add phones table and many to manys
Look at valets, buildings, build_garages, sections relationships
Create a many to many relationship between api keys and roles so that we only have to give out one key but that will be good for determining multiple roles
Add images to the models
Connect to S3 Database

Postgres Things
---------------
createuser -s -r rmathur101
postgres -D /usr/local/var/postgres/
pg_ctl -D /usr/local/var/postgres/ -l logfile start

Heroku Commands
---------------
git push heroku master
heroku pg:reset DATABASE
heroku run rake db:migrate
heroku run rake db:seed
heroku run rake db:setup


HTTP Token Auth Things
---------------
GET API TOKEN
u=User.First
u.api_key

HEROKU

curl https://carmen-stage.herokuapp.com/api/sign_ups

curl https://carmen-stage.herokuapp.com/api/cars -H 'Authorization: Token token="6920ab7d57c3f0b4f5d8e497ab9f282e"'

curl -H "Accept: application/json" -H "Content-type: application/json" -X POST -d '{"model": "Maruti", "color": "blue", "year": "2015", "license":"XXX"}' https://carmen-stage.herokuapp.com/api/cars -H 'Authorization: Token token="6920ab7d57c3f0b4f5d8e497ab9f282e"'

LOCAL
curl http://localhost:3000/api/cars/ -H 'Authorization: Token token="74b676482f500c56ef66462949a20c4e"'

curl http://localhost:3000/api/schedules/ -H 'Authorization: Token token="74b676482f500c56ef66462949a20c4e"'

curl -H "Accept: application/json" -H "Content-type: application/json" -X POST -d '{}' http://localhost:3000/api/schedules/edit/1 -H 'Authorization: Token token="74b676482f500c56ef66462949a20c4e"'

curl http://localhost:3000/api/schedules/7 -H 'Authorization: Token token="74b676482f500c56ef66462949a20c4e"'

curl -H "Accept: application/json" -H "Content-type: application/json" -X POST -d '{}' http://localhost:3000/api/schedules/1 -H 'Authorization: Token token="74b676482f500c56ef66462949a20c4e"'

LOCAL POST
 curl -H "Accept: application/json" -H "Content-type: application/json" -X POST -d '{"model": "BMW", "color": "blue", "year": "2015", "license":"XXX"}' http://localhost:3000/api/cars/ -H 'Authorization: Token token="74b676482f500c56ef66462949a20c4e"'

 curl -H "Accept: application/json" -H "Content-type: application/json" -X POST -d '{"name": "Schedule to delete", "car_id": "1", "time": "2000-01-01 03:05:40 UTC", "is_active": "true", "is_recurring": "true", "days":[1,4,5]}' http://localhost:3000/api/schedules/ -H 'Authorization: Token token="74b676482f500c56ef66462949a20c4e"'

  curl -H "Accept: application/json" -H "Content-type: application/json" -X POST -d '{"name": "Schedule 4", "car_id": "1", "time": "2000-01-01 03:05:40 UTC", "is_active": "true", "is_recurring": "true", "days":[1,3,5]}' http://localhost:3000/api/schedules/edit/4 -H 'Authorization: Token token="74b676482f500c56ef66462949a20c4e"'

 curl -H "Accept: application/json" -H "Content-type: application/json" -X POST -d '{}' http://localhost:3000/api/schedules/delete/3 -H 'Authorization: Token token="74b676482f500c56ef66462949a20c4e"'
 
*Delete and view header response*
 curl -H "Accept: application/json" -H "Content-type: application/json" -X POST -d '{}' -D- http://localhost:3000/api/schedules/delete/8 -H 'Authorization: Token token="74b676482f500c56ef66462949a20c4e"

Questions for Britney
---------------
What more do we need to have a secure api besides generating our side of the token?

Can we ask them to restrict the max car size on the phone app end?

Answered
---------------
Does a user need more than one type of api_key?
- I don't think so. We can just have another status table for the api keys so that it can have many different 'types'. that means one instance of an api_key can have many different types of relationships with a 'role' of sorts. That would work. If this is the case we can keep the has_one relationship.

Thoughts
---------------
So how do I complete the api? I need to think about what data I am giving them, what data they have requested, and what data they still need. Now I am able to send data through the headers. Let us mock the process of the user having an auth token.

The user will get an email with the password they should use to login to the appliction. They should be required to change the password. Once they change the password they are given an api key that will need to be received and stored on their mobile application. So once they get to the sign up page they will already have had their api key. They will then use this api key everytime they make a call to the api to retreive the data that they need. Any other information that I need to send?

So after they go through the login page they will get to the sign up page where they should get the following information:







BRITNEY'S RUBY FAIL KNOWLEDGE
=================================
DATABASE
Drop database: rake db:drop
Create, migrate, & seed: rake db:setup
































